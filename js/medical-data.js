/**
 * MEDICAL DATA CENTRALIZED SYSTEM
 * Sistema centralizado de datos m√©dicos para coherencia en toda la web
 * Versi√≥n: 1.0
 */

// üè• SERVICIOS/DEPARTAMENTOS M√âDICOS UNIFICADOS
const MEDICAL_SERVICES = {
    cardiology: {
        id: 'cardiology',
        name: {
            es: 'Cardiolog√≠a',
            en: 'Cardiology'
        },
        description: {
            es: 'Especialistas en el diagn√≥stico y tratamiento de enfermedades del coraz√≥n y sistema cardiovascular.',
            en: 'Specialists in the diagnosis and treatment of heart and cardiovascular system diseases.'
        },
        features: {
            es: [
                'Electrocardiogramas y ecocardiogramas',
                'Cateterismo card√≠aco',
                'Cirug√≠a cardiovascular'
            ],
            en: [
                'Electrocardiograms and echocardiograms',
                'Cardiac catheterization',
                'Cardiovascular surgery'
            ]
        },
        available24h: false,
        priority: 1
    },
    dermatology: {
        id: 'dermatology',
        name: {
            es: 'Dermatolog√≠a',
            en: 'Dermatology'
        },
        description: {
            es: 'Tratamiento especializado de enfermedades de la piel, cabello y u√±as con tecnolog√≠a avanzada.',
            en: 'Specialized treatment of skin, hair and nail diseases with advanced technology.'
        },
        features: {
            es: [
                'Dermatolog√≠a cl√≠nica y est√©tica',
                'Cirug√≠a dermatol√≥gica',
                'Tratamientos l√°ser'
            ],
            en: [
                'Clinical and aesthetic dermatology',
                'Dermatological surgery',
                'Laser treatments'
            ]
        },
        available24h: false,
        priority: 2
    },
    neurology: {
        id: 'neurology',
        name: {
            es: 'Neurolog√≠a',
            en: 'Neurology'
        },
        description: {
            es: 'Diagn√≥stico y tratamiento de trastornos del sistema nervioso central y perif√©rico.',
            en: 'Diagnosis and treatment of central and peripheral nervous system disorders.'
        },
        features: {
            es: [
                'Electroencefalogramas',
                'Resonancia magn√©tica cerebral',
                'Tratamiento de epilepsia y migra√±as'
            ],
            en: [
                'Electroencephalograms',
                'Brain MRI',
                'Epilepsy and migraine treatment'
            ]
        },
        available24h: false,
        priority: 3
    },
    pediatrics: {
        id: 'pediatrics',
        name: {
            es: 'Pediatr√≠a',
            en: 'Pediatrics'
        },
        description: {
            es: 'Atenci√≥n m√©dica especializada para beb√©s, ni√±os y adolescentes hasta los 18 a√±os.',
            en: 'Specialized medical care for babies, children and adolescents up to 18 years old.'
        },
        features: {
            es: [
                'Consultas pedi√°tricas generales',
                'Vacunaci√≥n completa',
                'Control de crecimiento y desarrollo'
            ],
            en: [
                'General pediatric consultations',
                'Complete vaccination',
                'Growth and development control'
            ]
        },
        available24h: true,
        priority: 4
    },
    gynecology: {
        id: 'gynecology',
        name: {
            es: 'Ginecolog√≠a',
            en: 'Gynecology'
        },
        description: {
            es: 'Cuidado integral de la salud femenina con enfoque en prevenci√≥n y tratamiento.',
            en: 'Comprehensive women\'s health care with focus on prevention and treatment.'
        },
        features: {
            es: [
                'Consultas ginecol√≥gicas',
                'Control prenatal',
                'Cirug√≠a ginecol√≥gica'
            ],
            en: [
                'Gynecological consultations',
                'Prenatal care',
                'Gynecological surgery'
            ]
        },
        available24h: false,
        priority: 5
    },
    traumatology: {
        id: 'traumatology',
        name: {
            es: 'Traumatolog√≠a',
            en: 'Traumatology'
        },
        description: {
            es: 'Especialistas en lesiones del sistema musculoesquel√©tico y cirug√≠a ortop√©dica.',
            en: 'Specialists in musculoskeletal injuries and orthopedic surgery.'
        },
        features: {
            es: [
                'Cirug√≠as ortop√©dicas',
                'Rehabilitaci√≥n f√≠sica',
                'Tratamiento de fracturas'
            ],
            en: [
                'Orthopedic surgeries',
                'Physical rehabilitation',
                'Fracture treatment'
            ]
        },
        available24h: true,
        priority: 6
    },
    laboratory: {
        id: 'laboratory',
        name: {
            es: 'Laboratorio/Diagn√≥stico',
            en: 'Laboratory/Diagnostic'
        },
        description: {
            es: 'Servicios completos de diagn√≥stico con laboratorio cl√≠nico y estudios especializados.',
            en: 'Complete diagnostic services with clinical laboratory and specialized studies.'
        },
        features: {
            es: [
                'An√°lisis cl√≠nicos completos',
                'Rayos X y ecograf√≠as',
                'Estudios especializados'
            ],
            en: [
                'Complete clinical analysis',
                'X-rays and ultrasounds',
                'Specialized studies'
            ]
        },
        available24h: true,
        priority: 7
    },
    emergency: {
        id: 'emergency',
        name: {
            es: 'Urgencias 24h',
            en: 'Emergency 24h'
        },
        description: {
            es: 'Atenci√≥n m√©dica de urgencia disponible las 24 horas del d√≠a, todos los d√≠as del a√±o.',
            en: 'Emergency medical care available 24 hours a day, every day of the year.'
        },
        features: {
            es: [
                'Atenci√≥n inmediata',
                'Equipo m√©dico especializado',
                'Ambulancia disponible'
            ],
            en: [
                'Immediate attention',
                'Specialized medical team',
                'Ambulance available'
            ]
        },
        available24h: true,
        priority: 8
    }
};

// üë®‚Äç‚öïÔ∏è EQUIPO M√âDICO UNIFICADO
const MEDICAL_STAFF = {
    doctor1: {
        id: 'doctor1',
        name: {
            es: 'Dr. Roberto Barrethion',
            en: 'Dr. Roberto Barrethion'
        },
        specialty: {
            es: 'Cardiolog√≠a',
            en: 'Cardiology'
        },
        department: 'cardiology',
        experience: {
            es: 'Especialista en cardiolog√≠a con m√°s de 15 a√±os de experiencia en diagn√≥stico y tratamiento de enfermedades cardiovasculares.',
            en: 'Cardiology specialist with over 15 years of experience in diagnosis and treatment of cardiovascular diseases.'
        },
        education: {
            es: 'Universidad Nacional Aut√≥noma de M√©xico',
            en: 'National Autonomous University of Mexico'
        },
        available: true
    },
    doctor2: {
        id: 'doctor2',
        name: {
            es: 'Dra. Mar√≠a Lou',
            en: 'Dr. Mar√≠a Lou'
        },
        specialty: {
            es: 'Dermatolog√≠a',
            en: 'Dermatology'
        },
        department: 'dermatology',
        experience: {
            es: 'Especialista en dermatolog√≠a cl√≠nica y est√©tica, dedicada al cuidado integral de la piel.',
            en: 'Specialist in clinical and aesthetic dermatology, dedicated to comprehensive skin care.'
        },
        education: {
            es: 'Instituto Polit√©cnico Nacional',
            en: 'National Polytechnic Institute'
        },
        available: true
    },
    doctor3: {
        id: 'doctor3',
        name: {
            es: 'Dra. Sansa Stark',
            en: 'Dr. Sansa Stark'
        },
        specialty: {
            es: 'Pediatr√≠a',
            en: 'Pediatrics'
        },
        department: 'pediatrics',
        experience: {
            es: 'Especialista en pediatr√≠a y cuidado infantil, comprometida con la salud y bienestar de los m√°s peque√±os.',
            en: 'Specialist in pediatrics and child care, committed to the health and wellbeing of the little ones.'
        },
        education: {
            es: 'Universidad de Guadalajara',
            en: 'University of Guadalajara'
        },
        available: true
    },
    doctor4: {
        id: 'doctor4',
        name: {
            es: 'Dr. Emely Robert',
            en: 'Dr. Emely Robert'
        },
        specialty: {
            es: 'Traumatolog√≠a',
            en: 'Traumatology'
        },
        department: 'traumatology',
        experience: {
            es: 'Especialista en traumatolog√≠a y cirug√≠a ortop√©dica con amplia experiencia en lesiones deportivas.',
            en: 'Specialist in traumatology and orthopedic surgery with extensive experience in sports injuries.'
        },
        education: {
            es: 'Universidad Aut√≥noma de Nuevo Le√≥n',
            en: 'Autonomous University of Nuevo Le√≥n'
        },
        available: true
    },
    doctor5: {
        id: 'doctor5',
        name: {
            es: 'Dra. Ana Mart√≠nez',
            en: 'Dr. Ana Mart√≠nez'
        },
        specialty: {
            es: 'Ginecolog√≠a',
            en: 'Gynecology'
        },
        department: 'gynecology',
        experience: {
            es: 'Especialista en ginecolog√≠a y obstetricia con enfoque en salud reproductiva femenina.',
            en: 'Specialist in gynecology and obstetrics with focus on female reproductive health.'
        },
        education: {
            es: 'Universidad de Monterrey',
            en: 'University of Monterrey'
        },
        available: true
    },
    doctor6: {
        id: 'doctor6',
        name: {
            es: 'Dr. Carlos Neur√≥n',
            en: 'Dr. Carlos Neur√≥n'
        },
        specialty: {
            es: 'Neurolog√≠a',
            en: 'Neurology'
        },
        department: 'neurology',
        experience: {
            es: 'Especialista en neurolog√≠a con experiencia en trastornos del sistema nervioso y neuroimagen.',
            en: 'Neurology specialist with experience in nervous system disorders and neuroimaging.'
        },
        education: {
            es: 'Universidad An√°huac',
            en: 'An√°huac University'
        },
        available: true
    },
    doctor6: {
        id: 'doctor6',
        name: {
            es: 'Dr. Carlos Mendoza',
            en: 'Dr. Carlos Mendoza'
        },
        specialty: {
            es: 'Cardiolog√≠a Intervencionista',
            en: 'Interventional Cardiology'
        },
        department: 'cardiology',
        experience: {
            es: 'Especialista en cardiolog√≠a intervencionista con m√°s de 12 a√±os de experiencia en procedimientos cardiovasculares m√≠nimamente invasivos.',
            en: 'Interventional cardiology specialist with over 12 years of experience in minimally invasive cardiovascular procedures.'
        },
        education: {
            es: 'Instituto Nacional de Cardiolog√≠a',
            en: 'National Institute of Cardiology'
        },
        available: true
    },
    doctor7: {
        id: 'doctor7',
        name: {
            es: 'Dra. Ana Patricia Ruiz',
            en: 'Dr. Ana Patricia Ruiz'
        },
        specialty: {
            es: 'Pediatr√≠a Neonatal',
            en: 'Neonatal Pediatrics'
        },
        department: 'pediatrics',
        experience: {
            es: 'Especialista en cuidados intensivos neonatales con experiencia en el manejo de reci√©n nacidos prematuros y de alto riesgo.',
            en: 'Specialist in neonatal intensive care with experience in managing premature and high-risk newborns.'
        },
        education: {
            es: 'Hospital Infantil de M√©xico',
            en: 'Children\'s Hospital of Mexico'
        },
        available: true
    },
    doctor8: {
        id: 'doctor8',
        name: {
            es: 'Dr. Miguel √Ångel Torres',
            en: 'Dr. Miguel √Ångel Torres'
        },
        specialty: {
            es: 'Traumatolog√≠a y Ortopedia',
            en: 'Traumatology and Orthopedics'
        },
        department: 'traumatology',
        experience: {
            es: 'Especialista en cirug√≠a ortop√©dica y traumatolog√≠a deportiva con amplia experiencia en artroscopia y reemplazo articular.',
            en: 'Specialist in orthopedic surgery and sports traumatology with extensive experience in arthroscopy and joint replacement.'
        },
        education: {
            es: 'Hospital de Traumatolog√≠a y Ortopedia',
            en: 'Hospital of Traumatology and Orthopedics'
        },
        available: true
    },
    doctor9: {
        id: 'doctor9',
        name: {
            es: 'Dra. Laura Fern√°ndez',
            en: 'Dr. Laura Fern√°ndez'
        },
        specialty: {
            es: 'Ginecolog√≠a y Obstetricia',
            en: 'Gynecology and Obstetrics'
        },
        department: 'gynecology',
        experience: {
            es: 'Especialista en ginecolog√≠a y obstetricia con enfoque en medicina materno-fetal y cirug√≠a ginecol√≥gica m√≠nimamente invasiva.',
            en: 'Specialist in gynecology and obstetrics with focus on maternal-fetal medicine and minimally invasive gynecological surgery.'
        },
        education: {
            es: 'Instituto Nacional de Perinatolog√≠a',
            en: 'National Institute of Perinatology'
        },
        available: true
    }
};

// üîß FUNCIONES UTILITARIAS
const MedicalDataManager = {

    // Obtener todos los servicios
    getAllServices: function(language = 'es') {
        return Object.values(MEDICAL_SERVICES).map(service => ({
            id: service.id,
            name: service.name[language],
            description: service.description[language],
            features: service.features[language],
            available24h: service.available24h,
            priority: service.priority
        })).sort((a, b) => a.priority - b.priority);
    },

    // Obtener servicio por ID
    getServiceById: function(serviceId, language = 'es') {
        const service = MEDICAL_SERVICES[serviceId];
        if (!service) return null;

        return {
            id: service.id,
            name: service.name[language],
            description: service.description[language],
            features: service.features[language],
            available24h: service.available24h,
            priority: service.priority
        };
    },

    // Obtener todos los doctores
    getAllDoctors: function(language = 'es') {
        return Object.values(MEDICAL_STAFF).map(doctor => ({
            id: doctor.id,
            name: doctor.name[language],
            specialty: doctor.specialty[language],
            department: doctor.department,
            experience: doctor.experience[language],
            education: doctor.education[language],
            available: doctor.available
        }));
    },

    // Obtener doctores por departamento
    getDoctorsByDepartment: function(departmentId, language = 'es') {
        return Object.values(MEDICAL_STAFF)
            .filter(doctor => doctor.department === departmentId && doctor.available)
            .map(doctor => ({
                id: doctor.id,
                name: doctor.name[language],
                specialty: doctor.specialty[language],
                department: doctor.department,
                experience: doctor.experience[language],
                education: doctor.education[language],
                available: doctor.available
            }));
    },

    // Obtener doctor por ID
    getDoctorById: function(doctorId, language = 'es') {
        const doctor = MEDICAL_STAFF[doctorId];
        if (!doctor) return null;

        return {
            id: doctor.id,
            name: doctor.name[language],
            specialty: doctor.specialty[language],
            department: doctor.department,
            experience: doctor.experience[language],
            education: doctor.education[language],
            available: doctor.available
        };
    },

    // Generar opciones para select de servicios
    generateServiceOptions: function(language = 'es', includeEmpty = true) {
        let options = [];

        if (includeEmpty) {
            options.push({
                value: '',
                text: language === 'es' ? 'Seleccionar Departamento' : 'Select Department'
            });
        }

        const services = this.getAllServices(language);
        services.forEach(service => {
            options.push({
                value: service.id,
                text: service.name
            });
        });

        return options;
    },

    // Generar opciones para select de doctores
    generateDoctorOptions: function(departmentId = null, language = 'es', includeEmpty = true) {
        let options = [];

        if (includeEmpty) {
            options.push({
                value: '',
                text: language === 'es' ? 'Seleccionar Doctor' : 'Select Doctor'
            });
        }

        const doctors = departmentId
            ? this.getDoctorsByDepartment(departmentId, language)
            : this.getAllDoctors(language);

        doctors.forEach(doctor => {
            options.push({
                value: doctor.id,
                text: `${doctor.name} - ${doctor.specialty}`
            });
        });

        return options;
    },

    // Inicializar sistema
    init: function() {
        console.log('üè• Medical Data System initialized');
        console.log(`üìä Services loaded: ${Object.keys(MEDICAL_SERVICES).length}`);
        console.log(`üë®‚Äç‚öïÔ∏è Doctors loaded: ${Object.keys(MEDICAL_STAFF).length}`);

        // Hacer disponible globalmente
        window.MedicalData = {
            services: MEDICAL_SERVICES,
            staff: MEDICAL_STAFF,
            manager: this
        };
    }
};

// üöÄ AUTO-INICIALIZACI√ìN
document.addEventListener('DOMContentLoaded', function() {
    MedicalDataManager.init();
});
